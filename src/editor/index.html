<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />

  <!-- No-op until loaded dynamically (could make configurable) -->
  <link rel="rhortcut icon" href="/favicon.ico?v=2" type="image/x-icon" />

  <!-- STYLESHEETS (others loaded dynamically) -->
  <style id="styleoverrides" media="screen"></style>
  <link href="./svgedit.css" rel="stylesheet" media="all"></link>
  
  <!-- FiglinQ -->
  <link href="./extensions/ext-figlinq/ext-figlinq.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bulma-switch@2.0.0/dist/css/bulma-switch.min.css" rel="stylesheet" media="all"></link>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://unpkg.com/bulma-modal-fx/dist/css/modal-fx.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Icons+Outlined" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> 
  <script src="https://cdn.jsdelivr.net/npm/bulma-toast@2.4.1/dist/bulma-toast.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/pdfkit@0.10.0/js/pdfkit.standalone.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/svg-to-pdfkit@0.1.8/source.js"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/@shopify/draggable@1.0.0-beta.13/lib/draggable.js"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/draggable/1.0.0-beta.12/draggable.min.js" integrity="sha512-VTqyB/kLQGaTnF5kYAgeEFo8fwqdlAGNUQeoQi4EOmmBYTEQ/XrYC7lnzCvBBp1PR+1ODEQiT075oeUdPeFHwA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <!-- SCRIPTS -->

  <!-- Lacking browser support -->
  <script type="module" src="./browser-not-supported.js"></script>

  <!-- If you do not wish to add extensions by URL, you can add calls
      within the following file to svgEditor.setConfig -->
  <script type="module">
    /* for available options see the file `docs/tutorials/ConfigOptions.md */
    import Editor from './Editor.js';
    const svgEditor = new Editor(document.getElementById('container'));
    svgEditor.init();
    svgEditor.setConfig({
      imgPath: './extensions/ext-figlinq/images',
      extensions: [],
      noDefaultExtensions: false,
      userExtensions: ['./extensions/ext-figlinq/ext-figlinq.js'],
      noStorageOnLoad: true,
      forceStorage: true,
      baseUnit: "mm",
      dimensions: [ 793.7007874015749, 1122.5196850393702 ], // A4 format
      initFill: {
        color: '08547d', // FiglinQ brand
        opacity: 1
      },
      initStroke: {
        width: 1,
        color: '000000', // solid black
        opacity: 1
      },

      // overwrite: true,
    }, 
    {
      allowInitialUserOverride: true,
      overwrite: true,
    });

    // Variable XDOMAIN below is created by Rollup for the Xdomain build (see rollup.config.js)
    /* globals XDOMAIN */
    try { // try clause to avoid js to complain if XDOMAIN undefined
      if (XDOMAIN) {
        svgEditor.setConfig({
          canvasName: 'xdomain', // Namespace this
          allowedOrigins: [ '*' ]
        });
        console.info('xdomain config activated');
      }
    } catch (error) {/* empty fn */ }
  </script>

  <title>FiglinQ | Figure editor</title>
</head>

<body style="margin:0">
  <!-- FiglinQ -->
  <script>
    // disable the beforeunload event
      window.addEventListener('beforeunload', function(event) {
        event.stopImmediatePropagation();
      }, true);
  </script>

  <div id="fq-spinner">
    <image src="./images/figlinq/spinner.gif" width="60" height="60" style="max-height:60px;"/>
  </div>
  <a href="https://github.com/SVG-Edit/svgedit" target="_blank" id="fq-powered-by-svgedit">
    <image style="margin-right:10px;" src="./images/logo.svg" width="20"/>
    <div>Powered by<br />
      <strong>SVG-edit</strong>
    </div>
  </a>

  <!-- Navbar -->
  <nav id="fq-main-navbar" class="navbar is-info" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://figlinq.com">
        <img src="images/figlinq/logo_text_dark.svg" width="80">
      </a>
  
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="fq-main-navbar-menu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>  
    <div id="fq-main-navbar-menu" class="navbar-menu">
      <div class="navbar-start">        
        <div id="fq-menu-interact-switch-item" class="navbar-item is-hidden">
          <div class="field">
            <input id="fq-menu-interact-switch" type="checkbox" name="fq-menu-interact-switch" class="switch is-success is-small">
            <label for="fq-menu-interact-switch"><span id="fq-menu-switch-label">Interact</span></label>
          </div>
        </div>
      </div>
  
      <div class="navbar-end">
        <div class="navbar-item">
          <div class="buttons">
            <!-- <a id="fq-menu-add-content-btn_btn" class="button fq-navbar-button is-light is-small is-hidden fq-menu-add-content-btn is-hidden">
              <span class="icon">
                <i class="fas fa-plus"></i>
              </span>
              <span>Add content</span>
            </a> -->
            <a href="https://figlinq.com/sign-up" id="fq-menu-signup-btn" class="button fq-navbar-text-button is-ghost">
              Sign up
            </a>
            <a href="https://create.figlinq.com/organize/home/" id="fq-menu-login-btn" class="button is-light is-small fq-navbar-button">
              Sign in
            </a>
          </div>
        </div>

        <div id="fq-menu-account-navbar-item1" class="navbar-item has-dropdown is-hoverable is-hidden">
          <a id="fq-navbar-menu-btn-apps" class="navbar-link is-arrowless has-text-5 is-hidden-mobile ">
            <span class="material-icons">apps</span>
          </a>
          <div class="navbar-dropdown is-boxed">
            <div class="navbar-item px-3" target="_blank">
              <span class="has-text-weight-semibold">Applications</span>
            </div>
            <hr class="navbar-divider">
            <a id="fq-user-link-files" class="navbar-item px-3" target="_blank">
              <span class="icon-text">
                <span class="material-icons mr-2">folder_copy</span>
                <span>Files</span>
              </span>
            </a>
            <a id="fq-user-link-charts" class="navbar-item px-3" target="_blank">
              <span class="icon-text">
                <span class="material-icons mr-2">insert_chart_outlined</span>
                <span>Data & Charts</span>
              </span>
            </a>
            <a id="fq-user-link-figures" class="navbar-item px-3" target="_blank">
              <span class="icon-text">
                <span class="material-icons-outlined mr-2">dashboard</span>
                <span>Figures</span>
              </span>              
            </a>
            <a id="fq-user-link-collections" class="navbar-item px-3" target="_blank">
              <span class="icon-text">
                <span class="material-icons mr-2">backup_table</span>
                <span>Collections</span>
              </span>              
            </a>
          </div>
        </div>
        <div id="fq-menu-account-navbar-item2" class="navbar-item has-dropdown is-hoverable mr-3 is-hidden">
          <a class="navbar-link is-arrowless has-text-5 is-hidden-mobile">
            <span id="fq-menu-account-user-name">AC</span>
          </a>
          <div class="navbar-dropdown is-boxed">
            <div class="navbar-item px-3" target="_blank">
              <span id="fq-menu-account-dropdown-user-name" class="has-text-weight-semibold">Account:</span>
            </div>
            <hr class="navbar-divider">
            <a id="fq-menu-account-settings" class="navbar-item px-3" target="_blank">
              <span class="icon-text">
                <span class="icon">
                  <i class="fas fa-cogs"></i>
                </span>
                <span>Settings</span>
              </span>
            </a>
            <a id="fq-menu-account-sign-out" class="navbar-item px-3">
              <span class="icon-text">
                <span class="icon">
                  <i class="fas fa-sign-out-alt"></i>
                </span>
                <span>Sign out</span>
              </span>              
            </a>
          </div>
        </div>        
      </div>
    </div>
  </nav>

  <nav id="fq-secondary-navbar" class="navbar is-hidden-touch" role="navigation" aria-label="main navigation">
    <div class="navbar-menu">
      <div class="navbar-start">
        <div class="navbar-item px-2">
          <span class="icon" style="font-size: 0.75em;">
            <i class="fas fa-ellipsis-v"></i>
          </span>                
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link is-arrowless has-text-6 px-0">
            <span class="fq-navbar-link">File</span>
          </a>
          <div class="navbar-dropdown  is-boxed" style="border-top: none;">
            <a id="fq-menu-file-new-figure" class="navbar-item fq-menu-item">
              <span class="icon-text">
                <span class="icon">
                  <i class="far fa-file"></i>
                </span>
                <span>New figure</span>
              </span>              
            </a>
            <a id="fq-menu-file-open-figure" class="navbar-item fq-menu-item is-hidden">
              <span class="icon-text">
                <span class="icon">
                  <i class="far fa-folder-open"></i>
                </span>
                <span>Open figure</span>
              </span>     
            </a>
            <a id="fq-menu-file-save-figure" class="navbar-item fq-menu-item is-hidden">
              <span class="icon-text">
                <span class="icon">
                  <i class="fas fa-save"></i>
                </span>
                <span>Save figure</span>
              </span>
            </a>
            <a id="fq-menu-file-save-figure-as" class="navbar-item fq-menu-item is-hidden">
              <span class="icon-text">
                <span class="icon">
                  <i class="far fa-save"></i>
                </span>
                <span>Save figure as...</span>
              </span>    
            </a>
            <a id="fq-menu-file-import-local-content" class="navbar-item fq-menu-item is-hidden">
              <span class="icon-text">
                <span class="icon">
                  <i class="fas fa-file-import"></i>
                </span>
                <span>Import local content</span>
              </span>
            </a>
            <a id="fq-menu-file-export" class="navbar-item fq-menu-item" >
              <span class="icon-text">
                <span class="icon">
                  <i class="fas fa-file-export"></i>
                </span>
                <span>Export figure</span>
              </span>    
            </a>
            <a class="navbar-item fq-menu-item fq-menu-add-content-btn is-hidden">
              <image style="margin-left:2px; margin-right:8px;" src="./images/figlinq/logo_gray.svg" width="16"/>
              Add FiglinQ content
            </a>
            <hr class="navbar-divider">
            <a id="fq-menu-file-document-properties" class="navbar-item">
              <span class="icon-text">
                <span class="icon">
                  <i class="fas fa-cogs"></i>
                </span>
                <span>Document setup</span>
              </span>    
              
            </a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link is-arrowless has-text-6 px-0">
            <span class="fq-navbar-link">View</span>
          </a>
          <div class="navbar-dropdown is-boxed" style="border-top: none;">
            <a id="fq-menu-view-show-grid" class="navbar-item">
              <span class="icon-text">
                <span class="icon">
                  <i class="far fa-square"></i>
                </span>
                <span>Show Grid</span>
              </span>              
            </a>
            <a id="fq-menu-view-show-rulers" class="navbar-item">
              <span class="icon-text">
                <span class="icon">
                  <i class="far fa-square"></i>
                </span>
                <span>Show rulers</span>
              </span>              
            </a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link is-arrowless has-text-6 px-0">
            <span class="fq-navbar-link">Plot</span>
          </a>
          <div class="navbar-dropdown is-boxed" style="border-top: none;">
            <a id="fq-menu-object-adjust" class="navbar-item">
              <span class="icon-text">
                <span class="icon">
                  <i class="fas fa-sliders-h"></i>
                </span>
                <span>Adjust properties</span>
              </span>              
            </a>            
            <a id="fq-menu-object-align" class="navbar-item">
              <span class="icon-text">
                <span class="icon">
                  <span class="material-icons-outlined is-size-6">
                    align_horizontal_center
                    </span>
                </span>
                <span>Align axes</span>
              </span>              
            </a>            
          </div>
        </div>
      </div>
    </div>
  </nav>
  <div id="container" style="width:100vw;height:calc(100vh - 80px);"></div>

  <!-- File Modal  -->
  <div id="fq-modal-file" class="modal modal-fx-normal">
    <div class="modal-background"></div>
    <div class="modal-content">
      <div class="box">
        <div id="fq-loading-overlay">
          <image src="./images/figlinq/spinner.gif" style="width:40px;height:40px;max-width:40px;"/>
        </div>
        <nav class="panel is-shadowless">
          <p id="file-panel-heading" class="panel-heading is-size-6">
            Select content to add
          </p> 
          <div id="fq-modal-file-search-block" class="panel-block">
            <fieldset id="fq-modal-file-search-wrapper" style="width:100%;">
              <div class="field is-horizontal">
                <div class="field-label is-normal mr-2" style="flex-grow: 0;">
                  <label class="label is-size-7">Search:</label>
                </div>
                <p class="control is-expanded has-icons-right">
                  <input id="fq-modal-file-search-input" class="input is-small" type="text" placeholder="Search (>2 characters)">
                  <span class="icon is-right">
                    <i id="fq-modal-file-search-icon" class="fas fa-search" aria-hidden="true" style="pointer-events: all; cursor: pointer;"></i>
                  </span>
                </p>
              </div>
            </fieldset>
          </div>
          <p id="panel_tabs" class="panel-tabs">
            <a href="#" id="fq-modal-file-tab-preselected" class="fq-modal-file-tab is-hidden" data-mode="preselected">Preselected</a>
            <a href="#" id="fq-modal-file-tab-my" class="fq-modal-file-tab is-hidden" data-mode="my">My files</a>
            <a href="#" id="fq-modal-file-tab-shared" class="fq-modal-file-tab is-hidden" data-mode="shared">Shared with me</a>
          </p>
          <div id="fq-modal-file-panel-breadcrumb" class="panel-block pl-0">
            <div class="breadcrumb is-size-7" aria-label="breadcrumbs">
              <ul>
                <li id="fq-breadcrumb-item-home" class="breadcrumb-item" data-fid="">
                  <a href="#" class="fq-modal-folder-item" data-fid="">&nbsp;
                    <span class="icon mx-0">
                      <i class="fas fa-home"></i>
                    </span>
                    <span>Home</span>
                  </a>
                </li>
              </ul>
            </div>
          </div>

          <div id="fq-modal-file-search-title" class="panel-block pl-0 is-hidden">
            <div class="breadcrumb is-size-7" aria-label="breadcrumbs">
              <span class="icon-text">
                <span class="icon ml-1">
                  <i class="fas fa-search"></i>
                </span>
                <span><strong>Search results: </strong><span id="fq-modal-file-search-items-found"></span></span>
              </span>
            </div>
          </div>

          <div id="fq-modal-item-list-container" style="border-bottom: 1px solid #ededed; max-height: calc(100vh - 400px); overflow-y: auto; ">            
          </div>

          <div class="panel-block modal-action-panel content-add-options-panel is-hidden pt-5 pb-1">
            <fieldset class="is-flex is-justify-content-left">
              <div class="field is-horizontal mr-3 mb-1">
                <div class="field-label is-normal mr-2" style="min-width: 210px;">
                  <label class="label is-size-7">Margin (left, top, right, bottom), in <span class="fq-margin-unit">mm</span>:</label>
                </div>                
                <p class="control is-expanded has-icons-left">
                  <input id="fq-content-add-magin-left" class="input is-small fq-margin-input" type="text" style="width: 3em;"><span class="fq-margin-input-link is-active">-</span><input id="fq-content-add-magin-top" class="input is-small fq-margin-input" type="text" style="width: 3em;"><span class="fq-margin-input-link is-active">-</span><input id="fq-content-add-magin-right" class="input is-small fq-margin-input" type="text" style="width: 3em;"><span class="fq-margin-input-link is-active">-</span><input id="fq-content-add-magin-bottom" class="input is-small fq-margin-input" type="text" style="width: 3em;">
                </p>
              </div>
              <div class="field is-horizontal mb-0">
                <div class="field-label is-normal mr-2">
                  <label class="label is-size-7">
                    <input id="fq-content-add-link-margins" class="checkbox is-small mr-0" style="vertical-align: text-bottom; bottom: 1px;" type="checkbox" value="1" checked="checked" onClick="jQuery('.fq-margin-input-link').toggleClass('is-active')">
                    Link
                  </label>
                </div>   
              </div>
            </fieldset>
          </div>

          <div class="panel-block modal-action-panel content-add-options-panel is-hidden pt-0 pb-4">
            <fieldset" class="is-flex is-justify-content-left">
              <div class="field is-horizontal mb-0">
                <div class="field-label is-normal mr-2" style="min-width: 210px;">
                  <label class="label is-size-7">Spacing (horizontal, vertical), in <span class="fq-margin-unit">mm</span>:</label>
                </div>
              </div>
              <div class="field is-horizontal mr-3 mb-0">
                <p class="control is-expanded has-icons-left">
                  <input id="fq-content-add-spacing-horizontal" class="input is-small" type="text" style="width: 3em;"><span class="fq-spacing-input-link">-</span><input id="fq-content-add-spacing-vertical" class="input is-small" type="text" style="width: 3em;">
                </p>
              </div>
              <div class="field is-horizontal">
                <div class="control">
                  <div class="select is-small">
                    <select id="fq-add-panel-letters">
                      <option value="">No panel leters</option>
                      <option value="lower">Add a,b,...</option>
                      <option value="upper">Add A,B,...</option>
                    </select>
                  </div>
                </div>
              </div>
            </fieldset>
          </div>

          <div class="panel-block modal-action-panel content-add-panel is-hidden is-flex is-justify-content-center">
            <div class="field is-grouped">
              <div class="control">
                <button id="fq-modal-add-confirm-btn" class="button is-link is-small" disabled>
                  Add item(s)
                </button>
              </div>
              <div class="control">
                <button class="button is-link is-outlined fq-modal-cancel-btn is-small">
                  Cancel
                </button>
              </div>
              <div class="control">
                <div class="select is-small">
                  <select id="col_select">
                    <option value="1">1 column</option>
                    <option value="2">2 columns</option>
                    <option value="3">3 columns</option>
                    <option value="4">4 columns</option>
                    <option value="5">5 columns</option>
                    <option value="6">6 columns</option>
                  </select>
                </div>
              </div>
              <div class="control">
                <button id="fq-modal-refresh-btn" class="button is-small">
                  <span class="icon is-small">
                    <i class="fas fa-sync-alt"></i>
                  </span>
                </button>              
              </div>
            </div>
          </div>

          <div class="panel-block modal-action-panel file-save-panel is-hidden pt-5 is-flex is-justify-content-center">
            <div class="control">
              <div class="field is-horizontal">
                <div class="field-label is-normal mr-2" style="padding-top: .5em;">
                  <label class="label is-size-7">File name:</label>
                </div>
                <div class="field-body">
                  <div class="field">
                    <p class="control">
                      <input id="fq-modal-save-name-input" class="input is-small" type="text">
                    </p>
                  </div>
                </div>
                <!-- <div class="field-label is-normal ml-2" style="padding-top: .5em; text-align: left; max-width: 30px;">
                  <label class="label is-size-7">.svg</label>
                </div> -->
              </div>              
            </div>
          </div>

          <div class="panel-block modal-action-panel file-save-panel is-hidden pt-5 is-flex is-justify-content-center">
            <div class="field is-grouped">
              <div class="control mr-0">
                <div class="field-label is-normal mr-2">
                  <label class="label is-size-7">Sharing:</label>
                </div>
              </div>
              <div class="control">
                <div class="select is-small">
                  <select id="world_readable">
                    <option value="false">Private</option>
                    <option value="true">Public</option>
                  </select>
                </div>
              </div>
              <div class="control">
                <button id="fq-modal-save-confirm-btn" class="button is-link is-small" disabled>
                  Save
                </button>
              </div>
              <div class="control">
                <button class="button is-link is-outlined fq-modal-cancel-btn is-small">
                  Cancel
                </button>
              </div>
              <div class="control">
                <button id="fq-modal-refresh-btn" class="button is-small">
                  <span class="icon is-small">
                    <i class="fas fa-sync-alt"></i>
                  </span>
                </button>
              </div>
            </div>
          </div>

          <div class="panel-block modal-action-panel file-upload-panel pt-5 is-flex is-justify-content-center">
            <div class="field is-grouped">
              <div class="control">
                <div class="file is-small">
                  <label class="file-label">
                    <input class="file-input" type="file" id="fq-file-upload-input" accept="image/png, image/jpeg, image/svg, image/bmp, image/gif">
                    <span class="file-cta">
                      <span class="file-icon">
                        <i class="fas fa-upload"></i>
                      </span>
                      <span class="file-label">
                        Browse
                      </span>
                    </span>
                    <span class="file-name" id="fq-file-upload-input-label">
                      No file selected
                    </span>
                  </label>
                </div>
              </div>
            </div>              
          </div>

          <div class="panel-block modal-action-panel file-upload-panel pt-5 is-flex is-justify-content-center">
            <div class="field is-grouped">
              <div class="control mr-0">
                <div class="field-label is-normal mr-2">
                  <label class="label is-size-7">Sharing:</label>
                </div>
              </div>
              <div class="control">
                <div class="select is-small">
                  <select id="fq-file-upload-world-readable">
                    <option value="false">Private</option>
                    <option value="true">Public</option>
                  </select>
                </div>
              </div>
              <div class="control">
                <button id="fq-modal-upload-confirm-btn" class="button is-link is-small">
                  Upload
                </button>
              </div>
              <div class="control">
                <button class="button is-link is-outlined fq-modal-cancel-btn is-small">
                  Cancel
                </button>
              </div>
              <div class="control">
                <button id="fq-modal-refresh-btn" class="button is-small">
                  <span class="icon is-small">
                    <i class="fas fa-sync-alt"></i>
                  </span>
                </button>
              </div>
            </div>
          </div>

          <div class="panel-block modal-action-panel figure-open-panel is-hidden pt-5 is-flex is-justify-content-center">
            <div class="field is-grouped">
              <div class="control">
                <button id="fq-modal-files-open-figure-confirm" class="button is-link is-small" disabled>
                  Open
                </button>
              </div>
              <div class="control">
                <button class="button is-link is-outlined fq-modal-cancel-btn is-small">
                  Cancel
                </button>
              </div>
              <div class="control">
                <button id="fq-modal-refresh-btn" class="button is-small">
                  <span class="icon is-small">
                    <i class="fas fa-sync-alt"></i>
                  </span>
                </button>
              </div>
            </div>
          </div>
        </nav>
      </div>
    </div>
  </div>

  <!-- Document setup modal  -->
  <div id="fq-modal-doc-setup" class="modal modal-fx-normal">
    <div class="modal-background"></div>
    <div class="modal-content">
      <div class="box is-shadowless">
        <nav class="panel is-shadowless">
          <p id="file-panel-heading" class="panel-heading is-size-6">
            Document setup
          </p>
          <div class="panel-block py-4">
            <div class="is-flex is-flex-direction-column">
              <p class="mb-3 is-size-7"><strong>Document units</strong></p>
              <div class="field">
                <!-- <label class="label">Predefined:</label> -->
                <div class="control">
                  <div class="select is-small">
                    <select id="fq-doc-baseunit">
                      <option value="px">Pixels</option>
                      <option value="mm">Millimeters</option>
                      <option value="cm">Centimeters</option>
                      <option value="in">Inches</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Document size -->
          <div class="panel-block py-4">
            <div class="is-flex is-flex-direction-column">
              <p class="mb-2 is-size-7"><strong>Document size</strong></p>
              <div class="field is-horizontal">
                <div class="field-body">
                  <div class="field">
                    <label class="label is-size-7">Predefined:</label>
                    <div class="control">
                      <div class="select is-small">
                        <select id="fq-doc-size">
                          <option value="">Select</option>
                          <option value="793.7007874015749x1122.5196850393702">A4</option>
                          <option value="816.0000000000001x1056">Letter</option>
                          <option value="800x600">600 x 800px</option>
                          <option value="1200x1600">1200 x 1600px</option>
                          <!-- <option value="fit">Fit to content</option> -->
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="field">
                    <label class="label is-size-7">Width:</label>
                    <p class="control is-expanded has-icons-left">
                      <input id="fq-doc-setup-width" class="input is-small" type="text" size="5">
                    </p>
                  </div>
                  <div class="field">
                    <label class="label is-size-7">Height:</label>
                    <p class="control is-expanded has-icons-left">
                      <input id="fq-doc-setup-height" class="input is-small" type="text" size="5">
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Grid -->
          <div class="panel-block py-4">
            <div class="is-flex is-flex-direction-column">
              <p class="is-size-7 mb-2"><strong>Grid & snapping</strong></p>
              <div class="field is-grouped is-align-items-baseline">
                <p class="control">
                  <label class="checkbox is-size-7">
                    <input id="fq-doc-setup-snapping-enabled" class="checkbox is-small mr-2" style="vertical-align: text-bottom; bottom: 1px;" type="checkbox">
                    Snapping enabled
                  </label>
                </p>
                <p class="control ml-5">
                  <label class="checkbox is-size-7">Snapping step (px):</label>
                </p>
                <p class="control is-flex-shrink-1">
                  <input id="fq-doc-setup-snapping-step" class="input is-small" type="text">
                </p>
              </div>
            </div>
          </div>

          <!-- Action buttons -->
          <div class="panel-block py-4 is-flex is-justify-content-center">
            <div class="field is-grouped">
              <!-- <div class="control">
                <button id="fq-doc-setup-save-btn" class="button is-link is-small">
                  Save
                </button>
              </div> -->
              <div class="control">
                <button class="button is-link fq-modal-cancel-btn is-small">
                  Close
                </button>
              </div>
            </div>
          </div>
        </nav>
      </div>
    </div>
  </div>

  <!-- Confirmation modal -->
  <div id="fq-modal-confirm" class="modal modal-fx-normal">
    <div class="modal-background"></div>
    <div class="modal-content" style="max-width: 400px;">
      <div class="box">
        <p class="mb-5 is-size-7">All unsaved changes will be lost. Are you sure?</p>
        <div class="field is-grouped is-grouped-centered">
          <p class="control">
            <a id="fq-modal-confirm-btn-ok" class="button is-link is-small">
              Open
            </a>
          </p>
          <p class="control">
            <a class="button is-link is-outlined fq-modal-cancel-btn is-small">
              Cancel
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Import local content - save figure first modal
  <div id="fq-modal-import-newfig" class="modal modal-fx-normal">
    <div class="modal-background"></div>
    <div class="modal-content" style="max-width: 400px;">
      <div class="box">
        <p class="mb-5 is-size-7">Please save the figure before importing local content.</p>
        <div class="field is-grouped is-grouped-centered">
          <p class="control">
            <a id="fq-modal-btn-confirm-save-figure" class="button is-link is-small">
              Save now
            </a>
          </p>
          <p class="control">
            <a class="button is-link is-outlined fq-modal-cancel-btn is-small">
              Cancel
            </a>
          </p>
        </div>
      </div>
    </div>
  </div> -->

  <!-- Zoom warning modal -->
  <div id="fq-modal-warning-zoom" class="modal modal-fx-normal">
    <div class="modal-background"></div>
    <div class="modal-content" style="max-width: 400px;">
      <div class="box has-text-centered">
        <b class="mb-5 is-size-6">Use 'shift + wheel' to zoom.</p>
      </div>
    </div>
  </div>

  <!-- Export modal -->
  <div id="fq-modal-export" class="modal modal-fx-normal">
    <div class="modal-background"></div>
    <div class="modal-content" style="max-width: 460px;">
      <div class="box">
        <p class="mb-5 is-size-6">Export figure</p>
        
        <!-- File name & format -->
        <div class="field is-grouped">
          <p class="control" style="margin-top: 2px;">
            <label class="is-size-7">Name/format:</label>
          </p>
          <div class="field has-addons">
            <p class="control">
              <input id="fq-modal-export-fname-input" value="Figure" class="input is-small" type="text">
            </p>
            <div class="control">
              <div class="select is-small">
                <select id="fq-modal-export-format-select">
                  <option value="png">.png</option>
                  <option value="jpeg">.jpg</option>
                  <option value="bmp">.bmp</option>
                  <option value="pdf">.pdf</option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <!-- Quality -->
        <div class="field is-grouped is-align-items-baseline">
          <p class="control">
            <label class="is-size-7">Quality:</label>
          </p>
          <div class="field has-addons">
            <p class="control">
              <button id="fq-modal-export-quality-minus" class="button fq-modal-export-quality is-small" data-increment="-5">
                <span class="icon is-small" style="pointer-events: none;">
                  <i class="fas fa-minus fa-xs"></i> 
                </span>
              </button>
            </p>
            <p class="control">
              <input id="fq-modal-export-quality-input" class="input is-small" size="1" type="text" value="80" style="text-align: center;">
            </p>
            <p class="control">
              <button id="fq-modal-export-quality-plus" class="button fq-modal-export-quality is-small" data-increment="5">
                <span class="icon is-small" style="pointer-events: none;">
                  <i class="fas fa-plus fa-xs"></i>
                </span>
              </button>
            </p>
          </div>
        </div>
        <!-- End quality -->

        <!-- Size -->
        <div class="field is-grouped is-align-items-baseline mb-4">
          <p class="control">
            <label class="is-size-7">Document dimensions:</label>
          </p>
          <div class="control">
            <div class="select is-small">
              <select id="fq-modal-export-size-select">
                <option value="1">1x (current)</option>
                <option value="2">2x</option>
                <option value="3">3x</option>
                <option value="4">4x</option>
                <option value="8">8x</option>
              </select>
            </div>
          </div>
        </div>
        <!-- End size -->

        <div class="field is-grouped is-grouped-centered">
          <p class="control">
            <a id="fq-modal-export-btn-export" class="button is-link is-small">
              Export
            </a>
          </p>
          <p class="control">
            <a class="button is-link is-outlined fq-modal-cancel-btn is-small">
              Cancel
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Adjust plot styling modal -->
  <div id="fq-modal-adjust" class="modal modal-fx-normal draggable-container">
    <!-- <div class="modal-background"></div> -->
    <div class="modal-content draggable-source" style="max-width: 360px;">
      <div class="box">
        <div class="content drag-handle mb-2">
          <span class="material-icons-outlined has-text-grey-light is-size-5" style="position:absolute; right: 20px; top: 20px;">open_with</span>
          <p class="is-size-6">Adjust properties of selected plots</p>
          <p class="is-size-7 has-text-weight-normal">Warning: this function will adjust properties of the selected plots and it cannot be reversed using the 'Undo' functionality.</p>
        </div>
        <div class="stop-propagation">
          <!-- Property -->
          <table class="fq-modal-adjust-table">
            <tr>
              <td>              
                <label class="checkbox is-size-7 has-text-weight-normal">
                  <input class="fq-modal-adjust-checkbox" data-property="layout-title-font-size" type="checkbox">
                  Plot > title > font > size
                </label>
              </td>
              <td>
                <input class="fq-modal-adjust-input" data-property="layout-title-font-size" value=""  size="1" class="input is-small" type="text">
              </td>
              <td>
                <button class="button is-small fq-modal-adjust-copy" data-property="layout-title-font-size"><span class="material-icons-outlined mr-1">content_copy</span>Copy &#x2B07;</button>
              </td>
            </tr>
            <tr>
              <td>
                <label class="checkbox is-size-7 has-text-weight-normal">
                  <input class="fq-modal-adjust-checkbox" data-property="layout-legend-font-size" type="checkbox">
                  Legend > font > size
                </label>
              </td>
              <td>
                <input class="fq-modal-adjust-input" data-property="layout-legend-font-size" value=""  size="1" class="input is-small" type="text">
              </td>
              <td>
                <button class="button is-small fq-modal-adjust-copy" data-property="layout-legend-font-size"><span class="material-icons-outlined mr-1">content_copy</span>Copy &#x2B07;</button>
              </td>
            </tr>
            <tr>
              <td>
                <label class="checkbox is-size-7 has-text-weight-normal">
                  <input class="fq-modal-adjust-checkbox" data-property="layout-xaxis-title-font-size" type="checkbox">
                  X-axis > title > font > size
                </label>
              </td>
              <td>
                <input class="fq-modal-adjust-input" data-property="layout-xaxis-title-font-size" value=""  size="1" class="input is-small" type="text">
              </td>
              <td>
                <button class="button is-small fq-modal-adjust-copy" data-property="layout-xaxis-title-font-size"><span class="material-icons-outlined mr-1">content_copy</span>Copy &#x2B07;</button>
              </td>
            </tr>
            <tr>
              <td>
                <label class="checkbox is-size-7 has-text-weight-normal">
                  <input class="fq-modal-adjust-checkbox" data-property="layout-xaxis-tickfont-size" type="checkbox">
                  X-axis > tick labels > font > size
                </label>
              </td>
              <td>
                <input class="fq-modal-adjust-input" data-property="layout-xaxis-tickfont-size" value=""  size="1" class="input is-small" type="text">
              </td>
              <td>
                <button class="button is-small fq-modal-adjust-copy" data-property="layout-xaxis-tickfont-size"><span class="material-icons-outlined mr-1">content_copy</span>Copy &#x2B07;</button>
              </td>
            </tr>
            <tr>
              <td>
                <label class="checkbox is-size-7 has-text-weight-normal">
                  <input class="fq-modal-adjust-checkbox" data-property="layout-yaxis-title-font-size" type="checkbox">
                  Y-axis > title > font > size
                </label>
              </td>
              <td>
                <input class="fq-modal-adjust-input" data-property="layout-yaxis-title-font-size" value=""  size="1" class="input is-small" type="text">
              </td>
              <td>
                <button class="button is-small fq-modal-adjust-copy" data-property="layout-yaxis-title-font-size"><span class="material-icons-outlined mr-1">content_copy</span>Copy &#x2B07;</button>
              </td>
            </tr>
            <tr>
              <td>
                <label class="checkbox is-size-7 has-text-weight-normal">
                  <input class="fq-modal-adjust-checkbox" data-property="layout-yaxis-tickfont-size" type="checkbox">
                  Y-axis > tick labels > font > size
                </label>
              </td>
              <td>
                <input class="fq-modal-adjust-input" data-property="layout-yaxis-tickfont-size" value=""  size="1" class="input is-small" type="text">
              </td>
              <td>
                <button class="button is-small fq-modal-adjust-copy" data-property="layout-yaxis-tickfont-size"><span class="material-icons-outlined mr-1">content_copy</span>Copy &#x2B07;</button>
              </td>
            </tr>
          </table>
          <div class="field mt-2">
            <div class="control">
              <label class="checkbox is-size-7 has-text-weight-normal">
                <input id="fq-modal-adjust-property-equalize" type="checkbox">
                Adjust for current scaling 
              </label>
            </div>
          </div>

          <div class="field is-grouped is-grouped-centered">
            <p class="control">
              <a id="fq-modal-adjust-btn-adjust" class="button is-link is-small">
                Apply
              </a>
            </p>
            <p class="control">
              <a class="button is-link is-outlined fq-modal-cancel-btn is-small">
                Close
              </a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Align plot modal -->
  <div id="fq-modal-align" class="modal modal-fx-normal draggable-container">
    <!-- <div class="modal-background"></div> -->
    <div class="modal-content draggable-source" style="max-width: 360px;">
      <div class="box">
        <div class="content drag-handle mb-2">
          <span class="material-icons-outlined has-text-grey-light is-size-5" style="position:absolute; right: 20px; top: 20px;">open_with</span>
          <p class="is-size-6">Align plots by axis</p>
          <p class="is-size-7 has-text-weight-normal">This function will align the selected plots by the chosen left or bottom axis.</p>
        </div>

        <div class="field is-grouped is-grouped-centered">
          <p class="control">
            <a id="fq-modal-align-btn-x" class="button is-link is-small">
              <span class="material-icons-outlined is-size-6">align_vertical_bottom</span>
            </a>
          </p>
          <p class="control">
            <a id="fq-modal-align-btn-y" class="button is-link is-small">
              <span class="material-icons-outlined is-size-6">align_horizontal_left</span>
            </a>
          </p>
          <p class="control">
            <a class="button is-link is-outlined fq-modal-cancel-btn is-small">
              Close
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>
  <canvas id="fq-canvas" style="background-color: rgba(255, 255, 255, 0);"></canvas>
  <div id="fq-svg-container" style="display:none;"></div>
</body>

</html>

<!-- https://play.tailwindcss.com/ynD75oVjBw?layout=horizontal -->